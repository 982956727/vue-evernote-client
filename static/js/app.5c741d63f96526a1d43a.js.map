{"version":3,"sources":["webpack:///./src/helpers/config-baseURL.js","webpack:///src/components/Avatar.vue","webpack:///./src/components/Avatar.vue?8ea1","webpack:///./src/components/Avatar.vue","webpack:///src/components/Slidebar.vue","webpack:///./src/components/Slidebar.vue?cc50","webpack:///./src/components/Slidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?de9d","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/apis/notebooks.js","webpack:///./src/store/modules/notebook.js","webpack:///./src/apis/notes.js","webpack:///./src/store/modules/note.js","webpack:///./src/apis/trash.js","webpack:///./src/store/modules/trash.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/apis/auth.js","webpack:///./src/helpers/util.js","webpack:///./src/helpers/request.js"],"names":["module","exports","baseURL","Avatar","data","created","this","setUser","methods","extends_default","Object","vuex_esm","computed","components_Avatar","render","_h","$createElement","_self","_c","attrs","title","username","_v","_s","slug","staticRenderFns","Slidebar","components","avatar","__webpack_require__","normalizeComponent","ssrContext","onLogout","logout","path","components_Slidebar","id","staticClass","to","on","click","App","name","Slidebar_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","use","Router","router","routes","alias","component","e","then","bind","URL","GET","ADD","UPDATE","DELETE","notebooks","promise_default","a","resolve","reject","request","res","sort","notebook1","notebook2","createdAt","forEach","notebook","createdAtFriendly","friendlyDate","updatedAtFriendly","updatedAt","catch","err","notebookId","_ref$title","arguments","length","undefined","replace","_ref2$title","modules_notebook","state","curBookId","getters","curBook","Array","isArray","find","mutations","setNotebooks","payload","addNotebook","unshift","updateNotebook","deleteNotebook","filter","setCurBook","actions","getNotebooks","_ref","commit","Notebook","_ref2","console","log","Message","success","msg","_ref3","_ref4","notes","map","note","note1","note2","noteId","content","_ref5","_ref6","_ref6$title","_ref6$content","modules_note","curNoteId","curNote","setNote","addNote","updateNote","deleteNote","setCurNote","getNotes","Note","_ref7","_ref8","REVERT","trash","modules_trash","trashNotes","curTrashNoteId","curTrashNote","belongTo","rootState","rootGetters","setTrashNotes","addTrashNote","deleteTrashNote","setCurTrashNote","getTrashNotes","Trash","revertTrashNote","user","charAt","login","password","Auth","register","push","checkLogin","getInfo","isLogin","Vuex","store","Store","modules","VueCodeMirror","ElementUI","config","productionTip","window","vm","el","template","__WEBPACK_IMPORTED_MODULE_0__helpers_request__","__webpack_exports__","datsStr","time","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","Date","getTime","space","now","str","Math","floor","url","type","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","option","method","validateStatus","status","toLowerCase","params","axios","error","defaults","headers","post","baseURLConfig","withCredentials"],"mappings":"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","file":"static/js/app.5c741d63f96526a1d43a.js","sourcesContent":["\n      module.exports = {\n        baseURL:\"https://note-server.hunger-valley.com\"\n      }\n    \n\n\n// WEBPACK FOOTER //\n// ./src/helpers/config-baseURL.js","<template>\r\n  <span :title=\"username\">{{slug}}</span>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters,mapActions } from 'vuex'\r\n\r\n  export default {\r\n    data() {\r\n      return {}\r\n    },\r\n    created() {\r\n      this.setUser()\r\n    },\r\n    methods:{\r\n        ...mapActions({\r\n            'setUser': 'checkLogin' \r\n        })\r\n    },\r\n    computed:{\r\n        ...mapGetters([\r\n            'username',\r\n            'slug'\r\n        ]),\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\nspan {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  text-align: center;\r\n  line-height: 32px;\r\n  border-radius: 50%;\r\n  background: #f2b81c;\r\n  color: #fff;\r\n  text-shadow: 1px 0 1px #795c19;\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  font-size: 18px;\r\n  margin-top: 15px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Avatar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{attrs:{\"title\":_vm.username}},[_vm._v(_vm._s(_vm.slug))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a8887d7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Avatar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a8887d7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Avatar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Avatar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Avatar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a8887d7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Avatar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a8887d7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Avatar.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"sidebar\">\r\n    <avatar></avatar>\r\n    <div class=\"icons\">\r\n      <router-link to=\"/note\" title=\"笔记\"><i class=\"iconfont icon-note\"></i></router-link>\r\n      <router-link to=\"/notebooks\" title=\"笔记本\"><i class=\"iconfont icon-notebook\"></i></router-link>\r\n      <router-link to=\"/trash\" title=\"回收站\"><i class=\"iconfont icon-trash\"></i></router-link>\r\n    </div>\r\n    <div class=\"logout\">\r\n      <i class=\"iconfont icon-logout\" @click=\"onLogout\"></i>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport avatar from '../components/Avatar.vue'\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    components: {\r\n      avatar,\r\n    },\r\n    methods: {\r\n      ...mapActions(['logout']),\r\n      onLogout() {\r\n        this.logout({ path: '/login' })\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#sidebar {\r\n  position: relative;\r\n  width: 56px;\r\n  text-align: center;\r\n  background-color: #2c333c;\r\n}\r\n.icons {\r\n  margin-top: 15px;\r\n}\r\n.icons a {\r\n  padding: 6px 0;\r\n  display: block;\r\n}\r\n.router-link-active {\r\n  background-color: #5e6266;\r\n}\r\n.logout {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  width: 100%;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.iconfont {\r\n  color: #fff;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Slidebar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"sidebar\"}},[_c('avatar'),_vm._v(\" \"),_c('div',{staticClass:\"icons\"},[_c('router-link',{attrs:{\"to\":\"/note\",\"title\":\"笔记\"}},[_c('i',{staticClass:\"iconfont icon-note\"})]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/notebooks\",\"title\":\"笔记本\"}},[_c('i',{staticClass:\"iconfont icon-notebook\"})]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/trash\",\"title\":\"回收站\"}},[_c('i',{staticClass:\"iconfont icon-trash\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"logout\"},[_c('i',{staticClass:\"iconfont icon-logout\",on:{\"click\":_vm.onLogout}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d8a9a102\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Slidebar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d8a9a102\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Slidebar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Slidebar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Slidebar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d8a9a102\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Slidebar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d8a9a102\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Slidebar.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Slidebar />\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport Slidebar from './components/Slidebar.vue'\nexport default {\n  name: 'App',\n  components: {\n    Slidebar\n  }\n}\n</script>\n\n<style>\n@import '//at.alicdn.com/t/font_496303_kqrjhri8l25d0a4i.css';\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\nhtml, body, #app {\n  height: 100%;\n}\nbody {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;  \n  background-color: #eee;\n}\na {\n  text-decoration: none;\n  color: #444;\n}\nul, li{\n  list-style: none;\n}\n.btn {\n  color: #666;\n  font-size: 12px;\n  padding: 2px 4px;\n  background-color: #fff;\n  box-shadow: 0px 0px 2px 0px #ccc;\n  border: none;\n  cursor: pointer;\n  display: inline-block;\n}\n#app {\n  display: flex;\n  align-items: stretch;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Slidebar'),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d7dbd05\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d7dbd05\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d7dbd05\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      alias: '/notebooks',\n      component: () => import('../components/NotebookList.vue')\n    },\n    {\n      path: '/login',\n      component: () => import('../components/Login.vue')\n    },\n     {\n      path: '/note',\n      component: () => import('../components/NoteDetail.vue')\n    },\n     {\n      path: '/trash',\n      component: () => import('../components/TrashDetail.vue')\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import request from '@/helpers/request'\r\nimport {friendlyDate} from '@/helpers/util'\r\n\r\nconst URL = {\r\n    GET: '/notebooks',\r\n    ADD: '/notebooks',\r\n    UPDATE: '/notebooks/:id',\r\n    DELETE: '/notebooks/:id'\r\n}\r\n\r\nexport default {\r\n   getAll() {\r\n      return new Promise((resolve,reject) => {\r\n         request(URL.GET)\r\n            .then(res => {\r\n               res.data = res.data.sort((notebook1,notebook2) => notebook1.createdAt < notebook2.createdAt ? 1 : -1)\r\n               res.data.forEach(notebook => {\r\n                     notebook.createdAtFriendly = friendlyDate(notebook.createdAt)\r\n                     notebook.updatedAtFriendly = friendlyDate(notebook.updatedAt)\r\n                  })\r\n               resolve(res)\r\n            }).catch(err => {\r\n               reject(err)\r\n            })\r\n      })\r\n   },\r\n   updateNotebook(notebookId,{title = ''} = {title:''}) {\r\n      return request(URL.UPDATE.replace(':id',notebookId),'PATCH',{title})\r\n   },\r\n   deleteNotebook(notebookId) {\r\n      \r\n      return request(URL.DELETE.replace(':id',notebookId),'DELETE')\r\n   },\r\n   addNotebook({ title = ''} = { title:'' }) {\r\n     return new Promise((resolve,reject) => {\r\n        request(URL.ADD,'POST',{ title })\r\n         .then(res => {\r\n            res.data.createdAtFriendly = friendlyDate(res.data.createdAt)\r\n            res.data.updatedAtFriendly = friendlyDate(res.data.updatedAt)\r\n            resolve(res)\r\n         }).catch(err => {\r\n            reject(err) \r\n         })\r\n     })\r\n   }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apis/notebooks.js","import Notebook from '@/apis/notebooks'\r\nimport { Message } from 'element-ui'\r\n\r\nconst state = {\r\n  notebooks: null,\r\n  curBookId: null\r\n}\r\n\r\nconst getters = {\r\n  notebooks: state => state.notebooks || [],\r\n\r\n  curBook: state => {\r\n      if(!Array.isArray(state.notebooks)) return {}\r\n      if(!state.curBookId) return state.notebooks[0] || {}\r\n      return state.notebooks.find(notebook => notebook.id == state.curBookId) || {}\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  setNotebooks(state,payload) {\r\n    state.notebooks = payload.notebooks\r\n  },\r\n  addNotebook(state,payload) {\r\n    state.notebooks.unshift(payload.notebook)\r\n  },\r\n  updateNotebook(state,payload) {\r\n      let notebook = state.notebooks.find(notebook => notebook.id == payload.notebookId) || {}\r\n      notebook.title = payload.title\r\n  },\r\n  deleteNotebook(state,payload) {\r\n    state.notebooks = state.notebooks.filter(notebook => notebook.id != payload.notebookId)\r\n  },\r\n  setCurBook(state,payload) {\r\n    state.curBookId = payload.curBookId\r\n  }\r\n}\r\n\r\nconst actions = {\r\n    getNotebooks({ commit,state }) {\r\n      if(state.notebooks !== null) return Promise.resolve()\r\n      return Notebook.getAll()\r\n        .then(res => {\r\n            commit('setNotebooks',{ notebooks: res.data })\r\n        })\r\n    },\r\n    addNotebook({ commit },payload) {\r\n      return Notebook.addNotebook({ title: payload.title })\r\n        .then(res => {\r\n            console.log('add success...',res)\r\n            commit('addNotebook',{ notebook: res.data })\r\n            Message.success(res.msg)\r\n        })\r\n    },\r\n    updateNotebook({ commit },payload) {\r\n        return Notebook.updateNotebook(payload.notebookId, { title:payload.title })\r\n          .then(res => {\r\n              commit('updateNotebook', { notebookId: payload.notebookId,title:payload.title } )\r\n              Message.success(res.msg)\r\n          })\r\n    },\r\n    deleteNotebook({ commit },payload) {\r\n        return Notebook.deleteNotebook(payload.notebookId) \r\n          .then(res => {\r\n              commit('deleteNotebook',{ notebookId: payload.notebookId })\r\n              Message.success(res.msg)\r\n          })\r\n    }\r\n}\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/notebook.js","import request from '@/helpers/request'\r\nimport {friendlyDate} from '@/helpers/util'\r\n\r\nconst URL = {\r\n    GET: '/notes/from/:notebookId',\r\n    ADD: '/notes/to/:notebookId',\r\n    UPDATE: '/notes/:noteId',\r\n    DELETE: '/notes/:noteId'\r\n}\r\n\r\nexport default {\r\n   getAll({ notebookId }) {\r\n      return new Promise((resolve,reject) => {\r\n         request(URL.GET.replace(':notebookId',notebookId))\r\n            .then(res => {\r\n               res.data = res.data.map(note => {\r\n                  note.createdAtFriendly = friendlyDate(note.createdAt)\r\n                  note.updatedAtFriendly = friendlyDate(note.updatedAt)\r\n                  return note\r\n               }).sort((note1,note2) => {\r\n                  return note1.updatedAt < note2.updatedAt\r\n               })\r\n               resolve(res)\r\n            }).catch(err => {\r\n               reject(err)\r\n            })\r\n      })\r\n   },\r\n   updateNote({ noteId },{ title,content}) {\r\n      return request(URL.UPDATE.replace(':noteId',noteId),'PATCH',{ title,content })\r\n   },\r\n   deleteNote({ noteId }) {\r\n      return request(URL.DELETE.replace(':noteId',noteId),'DELETE')\r\n   },\r\n   addNote({ notebookId }, { title = '',content = ''} = { title: '',content: '' }) {\r\n      return new Promise((resolve,reject) => {\r\n         request(URL.ADD.replace(\":notebookId\",notebookId),'POST',{ title,content })\r\n            .then(res => {\r\n               res.data.createdAtFriendly = friendlyDate(res.data.createdAt)\r\n               res.data.updatedAtFriendly = friendlyDate(res.data.updatedAt)\r\n               resolve(res)\r\n            }).catch(err => {\r\n               reject(err)\r\n            })\r\n      }) \r\n     //return request(URL.ADD.replace(\":notebookId\",notebookId),'POST',{ title,content })\r\n   }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apis/notes.js","import Note from '@/apis/notes'\r\nimport { Message } from 'element-ui'\r\n\r\nconst state = {\r\n  notes: null,\r\n  curNoteId: null\r\n}\r\n\r\nconst getters = {\r\n    notes: state => state.notes || [],\r\n\r\n    curNote: state => {\r\n      if(!Array.isArray(state.notes)) return { title: '',content: ''}\r\n      if(!state.curNoteId) return Array.isArray(state.notebooks)?state.notebooks[0]:{ title: '',content: '' }\r\n      return state.notes.find(note => note.id == state.curNoteId) || { title: '',content: '' }\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  setNote(state,payload) {\r\n    state.notes = payload.notes\r\n  },\r\n  addNote(state,payload) {\r\n    state.notes.unshift(payload.note)\r\n  },\r\n  updateNote(state,payload) {\r\n      let note = state.notes.find(note => note.id === payload.noteId) || {}\r\n      note.title = payload.title\r\n      note.content = payload.content\r\n  },\r\n  deleteNote(state,payload) {\r\n    state.notes = state.notes.filter(note => note.id !== payload.noteId)\r\n  },\r\n  setCurNote(state,payload = {}) {\r\n    state.curNoteId = payload.curNoteId\r\n  }\r\n}\r\n\r\nconst actions = {\r\n    getNotes({ commit },{ notebookId }) {\r\n      return Note.getAll({ notebookId })\r\n        .then(res => {\r\n            commit('setNote',{ notes: res.data })\r\n        })\r\n    },\r\n    addNote({ commit },{ notebookId,title,content }) {\r\n      return Note.addNote({ notebookId },{ title,content })\r\n        .then(res => {\r\n            console.log('add success...',res)\r\n            commit('addNote',{ note: res.data })\r\n        })\r\n    },\r\n    updateNote({ commit },{ noteId,title,content }) {\r\n        return Note.updateNote({ noteId }, { title,content })\r\n          .then(res => {\r\n              commit('updateNote', { noteId,title,content } )\r\n          })\r\n    },\r\n    deleteNote({ commit },{ noteId }) {\r\n        return Note.deleteNote({ noteId }) \r\n          .then(res => {\r\n              commit('deleteNote',{ noteId })\r\n              Message.success(res.msg)\r\n          })\r\n    }\r\n}\r\n\r\nexport default {\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/note.js","import request from '@/helpers/request'\r\nimport { friendlyDate } from '@/helpers/util'\r\n\r\nconst URL = {\r\n    GET: '/notes/trash',\r\n    REVERT: '/notes/:noteId/revert',\r\n    DELETE: '/notes/:noteId/confirm'\r\n}\r\n\r\nexport default {\r\n   getAll() {\r\n      return new Promise((resolve,reject) => {\r\n         request(URL.GET)\r\n            .then(res => {\r\n               res.data = res.data.sort((note1,note2) => note1.createdAt < note2.createdAt?1:-1)\r\n               res.data.forEach(note => {\r\n                     note.createdAtFriendly = friendlyDate(note.createdAt)\r\n                     note.updatedAtFriendly = friendlyDate(note.updatedAt)\r\n                  })\r\n               resolve(res)\r\n            }).catch(err => {\r\n               reject(err)\r\n            })\r\n      })\r\n   },\r\n      deleteNote({ noteId }) { \r\n          return request(URL.DELETE.replace(':noteId',noteId),'DELETE')\r\n   },\r\n      revertNote({ noteId }) { \r\n          return request(URL.REVERT.replace(':noteId',noteId),'PATCH') //這裡不要有空格\r\n   }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apis/trash.js","import Trash from '@/apis/trash'\r\nimport { Message } from 'element-ui'\r\n\r\nconst state = {\r\n  trashNotes: null,\r\n  curTrashNoteId: null,\r\n}\r\n\r\nconst getters = {\r\n  trashNotes: state => state.trashNotes || [],\r\n\r\n  curTrashNote: (state,getters)  => {\r\n      if(!state.curTrashNoteId) return getters.trashNotes[0] || {}\r\n      return state.trashNotes.find(note => note.id == state.curTrashNoteId) || {}\r\n  },\r\n  belongTo:(state,getters,rootState,rootGetters) => {\r\n    console.log(rootGetters.notebooks)\r\n    console.log(getters.trashNotes.notebookId)\r\n    let notebook = rootGetters.notebooks.find(notebook => notebook.id == getters.trashNotes.notebookId) || {}\r\n    return notebook.title || ''\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  setTrashNotes(state,payload) {\r\n    state.trashNotes = payload.trashNotes\r\n  },\r\n  addTrashNote(state,payload) {\r\n    setTrashNotes.unshift(payload.note)\r\n  },\r\n  deleteTrashNote(state,payload) {\r\n    state.trashNotes = state.trashNotes.filter(note => note.id != payload.noteId)\r\n  },\r\n  setCurTrashNote(state,payload = {}) {\r\n    state.curTrashNoteId = payload.curTrashNoteId\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  getTrashNotes({ commit }) {\r\n    return Trash.getAll()\r\n      .then(res => {\r\n          commit('setTrashNotes',{ trashNotes: res.data  })\r\n      })\r\n  },\r\n  deleteTrashNote({ commit },{ noteId }) {\r\n    return Trash.deleteNote({ noteId })\r\n      .then(res => {\r\n          commit('deleteTrashNote',{ noteId })\r\n          Message.success(res.msg)\r\n      })\r\n  },\r\n    revertTrashNote({ commit },{ noteId }) {\r\n    return Trash.revertNote({ noteId })\r\n      .then(res => {\r\n          commit('deleteTrashNote',{ noteId })\r\n          Message.success(res.msg)\r\n      })\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/trash.js","import Auth from '@/apis/auth'\r\nimport router from '@/router'\r\n\r\nconst state = {\r\n  user: null\r\n}\r\n\r\nconst getters = {\r\n  username: state => state.user === null ? '未登录' : state.user.username,\r\n  slug: state => state.user === null ? '未' : state.user.username.charAt(0)\r\n}\r\n\r\nconst mutations = {\r\n  setUser(state,payload) {\r\n    state.user = payload.user\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  login({ commit },{ username,password }) {\r\n    return Auth.login({ username, password })\r\n      .then(res => {\r\n          commit('setUser',{ user: res.data })\r\n      })\r\n  },\r\n\r\n  register({ commit },{ username,password }) {\r\n      return Auth.register({ username, password })\r\n        .then(res => {\r\n          commit('setUser',{ user: res.data })\r\n        })\r\n  },\r\n  logout({ commit },payload = { path: '/login' }) {\r\n    return Auth.logout()\r\n      .then(res => {\r\n          commit('setUser',{ user: null })\r\n          console.log(payload)\r\n          router.push(payload)\r\n      })\r\n  },\r\n  checkLogin({ commit,state },payload) {\r\n      if(state.user !== null) return Promise.resolve() \r\n      return Auth.getInfo() \r\n        .then(res => {\r\n            if(!res.isLogin) {\r\n                console.log('jump')  \r\n                router.push(payload)\r\n            } else {\r\n                commit('setUser',{ user: res.data })\r\n            }\r\n        })\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport notebook from './modules/notebook'\r\nimport note from './modules/note'\r\nimport trash from './modules/trash'\r\nimport user from './modules/user'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    notebook,\r\n    note,\r\n    trash,\r\n    user\r\n  }\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\n\n//import { Button,Message } from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css';\nimport App from './App'\nimport router from './router/index'\nimport store from './store'\nimport VueCodeMirror from 'vue-codemirror';\nimport 'codemirror/lib/codemirror.css';\nVue.use(VueCodeMirror);\n\n//Vue.use(Button)\n//Vue.prototype.$message = Message\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nwindow.vm = new Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import request from '@/helpers/request'\r\n\r\nconst URL = {\r\n  REGISTER: '/auth/register',\r\n  LOGIN:'/auth/login',\r\n  LOGOUT:'/auth/logout',\r\n  GET_INFO:'/auth'\r\n}\r\n\r\nexport default {\r\n  register({username,password}) {\r\n    return request(URL.REGISTER,'POST',{username,password})\r\n  },\r\n  login({username,password}) {\r\n    return request(URL.LOGIN,'POST',{username,password})\r\n  },\r\n  logout() {\r\n    return request(URL.LOGOUT)\r\n  },\r\n  getInfo() {\r\n    return request(URL.GET_INFO)\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/apis/auth.js","export function friendlyDate(datsStr) {\r\n  let dateObj = typeof datsStr === 'object' ? datsStr : new Date(datsStr)\r\n  let time = dateObj.getTime()\r\n  let now = Date.now()\r\n  let space = now - time\r\n  let str = ''\r\n\r\n  switch (true) {\r\n    case space < 60000:\r\n      str = '刚刚'\r\n      break\r\n    case space < 1000*3600:\r\n      str = Math.floor(space/6000 + '分钟前')\r\n      break\r\n    case space < 1000*3600*24:\r\n      str = Math.floor(space/(1000*3600)) + '小时前'  \r\n      break \r\n    default:\r\n      str = Math.floor(space/(1000*3600*24)) + '天前' \r\n  }\r\n  return str\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/util.js","import axios from 'axios'\r\nimport baseURLConfig from './config-baseURL'\r\nimport { Message } from 'element-ui'\r\n\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\r\naxios.defaults.baseURL = baseURLConfig.baseURL\r\naxios.defaults.withCredentials = true\r\n\r\nexport default function request(url,type = 'GET',data = {}) {\r\n  return new Promise((resolve,reject) => {\r\n      let option = {\r\n        url,\r\n        method: type,\r\n        validateStatus(status) {\r\n          return (status >= 200 && status < 300) || status === 400\r\n        }\r\n      }\r\n      if(type.toLowerCase() === 'get') {\r\n        option.params = data\r\n      }else {\r\n        option.data = data\r\n      }\r\n      axios(option).then(res => {\r\n        if(res.status === 200) {\r\n          resolve(res.data)\r\n        }else {\r\n          Message.error(res.data.msg)\r\n          reject(res.data)\r\n        }\r\n      }).catch(err => {\r\n          Message.error('网络异常')\r\n          reject({ msg:'网络异常' })\r\n      })\r\n  })\r\n}\r\n\r\n// request('/auth/login','POST',{username:'hunger',password:'123456'})\r\n//   .then(data => {\r\n//     console.log(data)\r\n//   })\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/request.js"],"sourceRoot":""}